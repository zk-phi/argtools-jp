import{E as w,u as t,d as g,q as x,k as m}from"./hooks.module-BbVW9Snr.js";const U=async s=>new Promise(a=>{const e=new FileReader;e.addEventListener("load",()=>a(e.result)),e.readAsDataURL(s)}),y=s=>new Promise(a=>{const e=new Image;e.src=s,e.complete?a(e):e.addEventListener("load",()=>a(e))}),b=s=>{const a=document.createElement("canvas");a.width=s.naturalWidth,a.height=s.naturalHeight;const e=a.getContext("2d");return e.drawImage(s,0,0),[a,e]},h=(s,a)=>new Promise(e=>{y(s).then(o=>{const[i,c]=b(o),d=c.getImageData(0,0,i.width,i.height);a(d.data),c.putImageData(d,0,0),i.toBlob(l=>e(URL.createObjectURL(l)))})}),v=()=>{const[s,a]=g(),[e,o]=g(),i=x(async c=>{if(c&&c.length>0){const d=await U(c[0]),l=await h(d,r=>{for(let n=0;n<r.length;n+=4)r[n+1]=0,r[n+2]=0}),p=await h(d,r=>{for(let n=0;n<r.length;n+=4)r[n+0]=0,r[n+2]=0}),u=await h(d,r=>{for(let n=0;n<r.length;n+=4)r[n+0]=0,r[n+1]=0});a(d),o([l,p,u])}},[]);return t(m,{children:[t("h3",{children:"画像ファイルを開く"}),t("input",{type:"file",onChange:c=>i(c.currentTarget.files)}),s&&t("div",{children:t("img",{src:s,style:{maxHeight:300,border:"1px dashed"}})}),t("h3",{children:"処理画像"}),t("hr",{}),e&&t(m,{children:[t("h4",{children:"R 成分"}),t("img",{src:e[0],style:{maxHeight:300,border:"1px dashed"}}),t("h4",{children:"G 成分"}),t("img",{src:e[1],style:{maxHeight:300,border:"1px dashed"}}),t("h4",{children:"B 成分"}),t("img",{src:e[2],style:{maxHeight:300,border:"1px dashed"}})]})]})},f=document.getElementById("app");w(t(v,{}),f);
