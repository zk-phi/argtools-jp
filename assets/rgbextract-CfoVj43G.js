import{E as w,u as n,d as g,q as x,k as m}from"./hooks.module-BbVW9Snr.js";const U=async s=>new Promise((a,e)=>{const d=new FileReader;d.addEventListener("load",()=>a(d.result)),d.readAsDataURL(s)}),y=s=>new Promise(a=>{const e=new Image;e.src=s,e.complete?a(e):e.addEventListener("load",()=>a(e))}),b=s=>{const a=document.createElement("canvas");a.width=s.naturalWidth,a.height=s.naturalHeight;const e=a.getContext("2d");return e.drawImage(s,0,0),[a,e]},h=(s,a)=>new Promise(e=>{y(s).then(d=>{const[o,c]=b(d),i=c.getImageData(0,0,o.width,o.height);a(i.data),c.putImageData(i,0,0),o.toBlob(l=>e(URL.createObjectURL(l)))})}),v=()=>{const[s,a]=g(),[e,d]=g(),o=x(async c=>{if(c&&c.length>0){const i=await U(c[0]),l=await h(i,r=>{for(let t=0;t<r.length;t+=4)r[t+1]=0,r[t+2]=0}),p=await h(i,r=>{for(let t=0;t<r.length;t+=4)r[t+0]=0,r[t+2]=0}),u=await h(i,r=>{for(let t=0;t<r.length;t+=4)r[t+0]=0,r[t+1]=0});a(i),d([l,p,u])}},[]);return n(m,{children:[n("h3",{children:"画像ファイルを開く"}),n("input",{type:"file",onChange:c=>o(c.currentTarget.files)}),s&&n("div",{children:n("img",{src:s,style:{maxHeight:300,border:"1px dashed"}})}),n("h3",{children:"処理画像"}),e&&n(m,{children:[n("h4",{children:"R 成分"}),n("img",{src:e[0],style:{maxHeight:300,border:"1px dashed"}}),n("h4",{children:"G 成分"}),n("img",{src:e[1],style:{maxHeight:300,border:"1px dashed"}}),n("h4",{children:"B 成分"}),n("img",{src:e[2],style:{maxHeight:300,border:"1px dashed"}})]})]})},f=document.getElementById("app");w(n(v,{}),f);
