const d=e=>new Promise(a=>{const t=new Image;t.src=e,t.complete?a(t):t.addEventListener("load",()=>a(t))}),i=e=>{const a=document.createElement("canvas");a.width=e.naturalWidth,a.height=e.naturalHeight;const t=a.getContext("2d");return t.drawImage(e,0,0),[a,t]},g=(e,a)=>new Promise(t=>{d(e).then(s=>{const[n,o]=i(s),c=o.getImageData(0,0,n.width,n.height);a(c.data),o.putImageData(c,0,0),n.toBlob(r=>t(r))})});export{g as applyFilter};
