import{E as r,u as a,d as m,q as v,k as p}from"./hooks.module-BbVW9Snr.js";const x=async c=>new Promise(s=>{const n=new FileReader;n.addEventListener("load",()=>s(n.result)),n.readAsDataURL(c)}),y=c=>new Promise(s=>{const n=new Image;n.src=c,n.complete?s(n):n.addEventListener("load",()=>s(n))}),U=c=>{const s=document.createElement("canvas");s.width=c.naturalWidth,s.height=c.naturalHeight;const n=s.getContext("2d");return n.drawImage(c,0,0),[s,n]},g=(c,s)=>new Promise(n=>{y(c).then(d=>{const[l,o]=U(d),i=o.getImageData(0,0,l.width,l.height);s(i.data),o.putImageData(i,0,0),l.toBlob(h=>n(URL.createObjectURL(h)))})}),E=()=>{const[c,s]=m(),[n,d]=m([]),l=v(async o=>{if(o&&o.length>0){const i=await x(o[0]),h=await g(i,t=>{for(let e=0;e<t.length;e+=4)t[e+1]=t[e+0],t[e+2]=t[e+0],t[e+3]=255});d(t=>[...t,["R 成分のみ抽出",h]]);const w=await g(i,t=>{for(let e=0;e<t.length;e+=4)t[e+0]=t[e+1],t[e+2]=t[e+1],t[e+3]=255});d(t=>[...t,["G 成分のみ抽出",w]]);const u=await g(i,t=>{for(let e=0;e<t.length;e+=4)t[e+0]=t[e+2],t[e+1]=t[e+2],t[e+3]=255});d(t=>[...t,["B 成分のみ抽出",u]]);const I=await g(i,t=>{for(let e=0;e<t.length;e+=4)t[e+0]=t[e+3],t[e+1]=t[e+3],t[e+2]=t[e+3]});d(t=>[...t,["透明なピクセルを抽出",I]]);const f=await g(i,t=>{for(let e=0;e<t.length;e+=1)t[e]=(t[e]&1)*255});d(t=>[...t,["最下位ビットのみ抽出",f]]),s(i)}},[]);return a(p,{children:[a("h3",{children:"画像ファイルを開く"}),a("input",{type:"file",onChange:o=>l(o.currentTarget.files)}),c&&a("div",{children:a("img",{src:c,style:{maxHeight:300,border:"1px dashed"}})}),a("h3",{children:"処理画像"}),a("hr",{}),n.map(([o,i])=>a(p,{children:[a("h4",{children:o},`${o}h4`),a("img",{src:i,style:{maxHeight:300,border:"1px dashed"}},`${o}img`)]}))]})},L=document.getElementById("app");r(a(E,{}),L);
