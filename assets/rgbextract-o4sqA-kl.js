import{E as x,u as i,d as m,q as v,k as p}from"./hooks.module-BbVW9Snr.js";import{r as y}from"./file-DsPZzr7w.js";const U=a=>new Promise(o=>{const n=new Image;n.src=a,n.complete?o(n):n.addEventListener("load",()=>o(n))}),b=a=>{const o=document.createElement("canvas");o.width=a.naturalWidth,o.height=a.naturalHeight;const n=o.getContext("2d");return n.drawImage(a,0,0),[o,n]},d=(a,o)=>new Promise(n=>{U(a).then(g=>{const[l,c]=b(g),s=c.getImageData(0,0,l.width,l.height);o(s.data),c.putImageData(s,0,0),l.toBlob(h=>n(URL.createObjectURL(h)))})}),E=()=>{const[a,o]=m(),[n,g]=m([]),l=v(async c=>{if(c&&c.length>0){g([]);const s=await y(c[0]),h=await d(s,t=>{for(let e=0;e<t.length;e+=4)t[e+1]=t[e+0],t[e+2]=t[e+0],t[e+3]=255});g(t=>[...t,["R 成分のみ抽出",h]]);const I=await d(s,t=>{for(let e=0;e<t.length;e+=4)t[e+0]=t[e+1],t[e+2]=t[e+1],t[e+3]=255});g(t=>[...t,["G 成分のみ抽出",I]]);const u=await d(s,t=>{for(let e=0;e<t.length;e+=4)t[e+0]=t[e+2],t[e+1]=t[e+2],t[e+3]=255});g(t=>[...t,["B 成分のみ抽出",u]]);const w=await d(s,t=>{for(let e=0;e<t.length;e+=4)t[e+0]=t[e+3],t[e+1]=t[e+3],t[e+2]=t[e+3]});g(t=>[...t,["透明なピクセルを抽出",w]]);const f=await d(s,t=>{for(let e=0;e<t.length;e+=1)t[e]=(t[e]&1)*255});g(t=>[...t,["最下位ビットのみ抽出",f]]),o(s)}},[]);return i(p,{children:[i("h3",{children:"画像ファイルを開く"}),i("input",{type:"file",onChange:c=>l(c.currentTarget.files)}),a&&i("div",{children:i("img",{src:a,style:{maxHeight:300,border:"1px dashed"}})}),i("h3",{children:"処理画像"}),i("hr",{}),n.map(([c,s])=>i(p,{children:[i("h4",{children:c},`${c}h4`),i("img",{src:s,style:{maxHeight:300,border:"1px dashed"}},`${c}img`)]}))]})},r=document.getElementById("app");x(i(E,{}),r);
